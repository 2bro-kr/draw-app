<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎲 공정한 랜덤 추첨기</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="mainContainer">
        <header>
            <h1>🎲 공정한 랜덤 추첨기</h1>
            <p class="subtitle">당첨 이력 기반 공정 추첨 시스템</p>
        </header>

        <div class="main-content">
            <!-- 참가자 관리 섹션 -->
            <section class="section participants-section">
                <h2>👥 참가자 관리</h2>
                <div class="add-participant">
                    <input type="text" id="participantName" placeholder="참가자 이름 입력" />
                    <button id="addBtn" class="btn btn-primary">추가</button>
                </div>
                <div class="participant-list" id="participantList">
                    <!-- 참가자 목록이 여기에 표시됨 -->
                </div>
                <div class="participant-actions">
                    <button id="selectAllBtn" class="btn btn-secondary">전체 선택</button>
                    <button id="deselectAllBtn" class="btn btn-secondary">전체 해제</button>
                </div>
            </section>

            <!-- 추첨 설정 섹션 -->
            <section class="section lottery-section">
                <h2>🎯 추첨 설정</h2>
                <div class="lottery-settings">
                    <div class="setting-item">
                        <label for="winnerCount">당첨자 수</label>
                        <input type="number" id="winnerCount" min="1" value="1" />
                    </div>
                    <div class="selected-info">
                        <span>선택된 참가자: <strong id="selectedCount">0</strong>명</span>
                    </div>
                </div>
                <!-- 오늘의 운세 모드 토글 -->
                <div class="fortune-mode-toggle">
                    <label class="toggle-switch">
                        <input type="checkbox" id="fortuneModeToggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="fortune-label">🔮 오늘의 운세 모드</span>
                    <span class="fortune-hint" id="fortuneHint"></span>
                </div>
                <button id="drawBtn" class="btn btn-draw">🎰 추첨하기!</button>
            </section>

            <!-- 당첨 결과 섹션 -->
            <section class="section result-section" id="resultSection">
                <h2>🏆 당첨 결과</h2>
                <div class="result-container" id="resultContainer">
                    <div class="slot-machine" id="slotMachine">
                        <!-- 슬롯머신 애니메이션 -->
                    </div>
                    <div class="winners-display" id="winnersDisplay">
                        <!-- 당첨자 표시 -->
                    </div>
                </div>
            </section>

            <!-- 당첨 통계 섹션 -->
            <section class="section stats-section">
                <h2>📈 당첨 통계</h2>
                <div class="stats-container" id="statsContainer">
                    <div class="chart-wrapper">
                        <canvas id="statsChart"></canvas>
                    </div>
                    <div class="stats-summary" id="statsSummary">
                        <!-- 통계 요약 -->
                    </div>
                </div>
            </section>

            <!-- 당첨 이력 섹션 -->
            <section class="section history-section">
                <h2>📊 당첨 이력</h2>
                <div class="history-controls">
                    <button id="clearHistoryBtn" class="btn btn-danger">전체 이력 삭제</button>
                </div>
                <div class="history-list" id="historyList">
                    <!-- 당첨 이력이 여기에 표시됨 -->
                </div>
            </section>
        </div>
    </div>

    <!-- 다트 게임 오버레이 -->
    <div class="dart-overlay" id="dartOverlay">
        <div class="dart-game-container">
            <!-- 라운드 표시 -->
            <div class="dart-round" id="dartRound"></div>

            <!-- 다트판 (과녁) -->
            <div class="dartboard-wrapper">
                <canvas id="dartboardCanvas"></canvas>
                <!-- 꽂힌 다트들 -->
                <div class="stuck-darts" id="stuckDarts"></div>
            </div>

            <!-- 날아가는 다트 -->
            <div class="flying-dart" id="flyingDart">
                <div class="dart-body">
                    <div class="dart-tip"></div>
                    <div class="dart-shaft"></div>
                    <div class="dart-flight"></div>
                </div>
            </div>

            <!-- 당첨자 표시 -->
            <div class="dart-winner-display" id="dartWinnerDisplay"></div>
        </div>

        <!-- 운세 애니메이션 -->
        <div class="fortune-animation" id="fortuneAnimation">
            <div class="fortune-text" id="fortuneText"></div>
        </div>
    </div>

    <!-- 당첨 축하 오버레이 -->
    <div class="celebration-overlay" id="celebrationOverlay">
        <div class="confetti-container" id="confettiContainer"></div>
        <div class="celebration-content">
            <h2>🎉 축하합니다! 🎉</h2>
            <div class="winner-announcement" id="winnerAnnouncement"></div>
            <button class="btn btn-primary" id="closeOverlayBtn">확인</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
